<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body onload="makeNewWindow()">
    <br>
    <center>
        <form action="Register_form.html" name="myform" method="post">
            <div>
                <table width="633" height="423" border="1" style="margin-bottom: 30px">
                    <tr>
                        <td>Register Form</td>
                    </tr>
                    <tr>
                        <td>User Name</td>
                        <td><input type="text" name="username" required>
                            <div id='myform_username_errorloc' class="error_strings"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>Password</td>
                        <td><input type="password" name="password" required>
                            <div id='myform_password_errorloc' class="error_strings"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>Confirm Password</td>
                        <td><input type="password" is = "cf_password" name="cf-password" required>
                            <div id='myform_cf-password_errorloc' class="error_strings"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>Address:</td>
                        <td><textarea name="address" style="overflow:scroll" required></textarea>
                            <div id='myform_address_errorloc' class="error_strings"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>Marriage</td>
                        <td><input type="checkbox" name="marriage" value="Da Ket Hon">
                            <div id='myform_marriage_errorloc' class="error_strings"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>Gender</td>
                        <td>
                            <input type="radio" name="gender" value="Nam"> Nam
                            <input type="radio" name="gender" value="Nu"> Nu
                            <div id='myform_gender_errorloc' class="error_strings">
                        </td>
                    </tr>
                    <tr>
                        <td>Programming languages</td>
                        <td>&nbsp;</td>
                    </tr>
                    <tr>
                        <td>Skill</td>
                        <td><input type="radio" name="skill" value="normal">Normal<br>
                        <input type="radio" name="skill" value="good" />Good <br>
                        <input type="radio" name="skill" value="very good" />Very good <br>
                        <input type="radio" name="skill" value="excelent" />Excelent
                        </td>
                    </tr>
                    <tr>
                        <td>Jobs:</td>
                        <td>
                        <select name="jobs" multiple="multiple">
                            <option selected="selected" value="CNTT">CNTT</option>
                            <option selected="selected" value="CK">CK</option>
                            <option selected="selected" value="DT">DT</option>
                            <option selected="selected" value="KD">KD</option>
                        </select>
                    </tr>
                    <tr>
                        <td>Hopies:</td>
                        <td><input type="checkbox" name="hopies" value="sports" checked="checked" />Sports &nbsp;
                            <input type="checkbox" name="hopies" value="music" />Music &nbsp;
                            <input type="checkbox" name="hopies" value="news" />News &nbsp;
                            <input type="checkbox" name="hopies" value="sience" />Sience &nbsp;
                         </td>
                    </tr>
                    <tr>
                        <td>Email:</td>
                        <td><input type="email" name="email" required></td>
                    </tr>
                    <tr>
                        <td>Phone XXX-XX-XXX</td>
                        <td><input type="tel" name="phone" pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}" required></td>
                    </tr>
                </table>
                <div>
                    <input type="reset" value="Reset"/>
                    <input type="button" onclick="showData()" value="Register" />
                    <input type="submit" onclick="showonpage('id')" value="Show" />
                    <input type="submit" value="Kiểm tra" />
                    <input type="submit" value="Mở trong tab mới" onclick="subWrite()">  
                </div>

            </div>  
        </form>
    </center>

    <div id="id"></div>
        
    <script>

        var newWindow;
        function makeNewWindow(){
            newWindow = window.open("","","status,height=400,width=500"); 
        }
        function subWrite(){
            var username = document.myform.username.value;
			var password = document.myform.password.value;
			var addtress = document.myform.address.value;
			var marriage = document.myform.marriage.value;
			var gender = document.myform.gender.value;
			var skill = document.myform.skill.value;
			var jobs = document.myform.jobs.value;

            var hopies = "";
			for(var i=0; i<document.myform.hopies.length; i++)
			{
				if(document.myform.hopies[i].checked)
				{
					hopies += (hopies?'-':'')+document.myform.hopies[i].value;
				}	
			}
            if (newWindow.closed) { 
			    makeNewWindow(); 
            }
            newWindow.focus(); 
            var newContent = "<html><head><title>title</title></head>"; 
            newContent += "<body bgcolor='#FFC'>"; 
            newContent += "Tên: "+username+"<br>";
            newContent += "Mật Khẩu: "+password+"<br>";
            newContent += "Địa chỉ: "+addtress+"<br>";
            newContent += "Giới tính: "+gender+"<br>";
            newContent += "Tình trạng hôn nhân: "+marriage+"<br>";
            newContent += "Kỹ năng: "+skill+"<br>";
            newContent += "Sở thích: "+hopies+"<br>";
            newContent += "Nghề nghiệp: "+jobs+"<br>";
            newContent += "</body></html>"; 
            newWindow.document.write(newContent); 
            newWindow.document.close(); 
        }
        function validateEmail(email) {
            var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(email);
        }
        function showData(){
            var username = document.myform.username.value;
            var password = document.myform.password.value;
            var cf_password = document.myform['cf-password'].value;
            var addtress = document.myform.address.value;
			var marriage = document.myform.marriage.value;
			var gender = document.myform.gender.value;
			var skill = document.myform.skill.value;
			var jobs = document.myform.jobs.value;
            var hopies = "";
            console.log(cf_password);
            console.log(password);
                
			for(var i=0; i<document.myform.hopies.length; i++)
			{
				if(document.myform.hopies[i].checked)
				{
					hopies += (hopies?'-':'')+document.myform.hopies[i].value;
				}	
			}
            if(password == cf_password){
                alert(
                    'Tên: '+username+'\n'+
			    	'Mật Khẩu: '+password+'\n'+
			    	'Địa chỉ: '+addtress+'\n'+
			    	'Giới tính: '+gender+'\n'+
			    	'Tình trạng hôn nhân: '+marriage+'\n'+
			    	'Kỹ năng: '+skill+'\n'+
			    	'Sở thích: '+hopies+'\n'+
			    	'Nghề nghiệp: '+jobs+'\n'
                )
            }
            else{
                alert("Password vaf Confirm password phai giong nhau");
            }

        }
        function showonpage(id){
            var username = document.myform.username.value;
            var password = document.myform.password.value;
            var cf_password = document.myform['cf-password'].value;
            var addtress = document.myform.address.value;
			var marriage = document.myform.marriage.value;
			var gender = document.myform.gender.value;
			var skill = document.myform.skill.value;
			var jobs = document.myform.jobs.value;
            var hopies = "";
			for(var i=0; i<document.myform.hopies.length; i++)
			{
				if(document.myform.hopies[i].checked)
				{
					hopies += (hopies?'-':'')+document.myform.hopies[i].value;
				}	
			}
            if(password == cf_password){
                document.getElementById(id).innerHTML="Tên: <strong>"+username+"</strong><br>"+
			    										"Mật Khẩu: <strong>"+password+"</strong><br>"+
			    										"Địa chỉ: <strong>"+addtress+"</strong><br>"+
			    										"Giới tính: <strong>"+gender+"</strong><br>"+
			    										"Tình trạng hôn nhân: <strong>"+marriage+"</strong><br>"+
			    										"Kỹ năng: <strong>"+skill+"</strong><br>"+
			    										"Sở thích: <strong>"+hopies+"</strong><br>"+
			    										"Nghề nghiệp: <strong>"+jobs+"</strong><br>"
			    										;
            }
            else{
                alert("Password vaf Confirm password phai giong nhau");
            }

        }
    </script>
</body>
</html>